<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>LED FIX</title>
    <style>
        body { background: #111; margin: 0; color: white; }
        
        .led-screen {
            position: relative;
            width: 100%;
            height: 300px;
            background: black;
            border: 2px solid red; /* Pour voir si le conteneur existe */
            overflow: visible; /* On désactive le masquage pour le test */
            display: flex;
            align-items: center;
        }

        #bannerText {
            position: absolute;
            white-space: nowrap;
            font-family: Arial, sans-serif; /* Police simple pour tester */
            font-weight: bold;
            font-size: 100px;
            color: yellow; /* Couleur flash pour le test */
            left: 0; /* On le force à gauche au début */
        }

        @keyframes scroll-simple {
            from { left: 100%; }
            to { left: -100%; }
        }
    </style>
</head>
<body>

    <div style="color: white; padding: 10px;">Statut : <span id="debug">Attente...</span></div>
    
    <div class="led-screen">
        <div id="bannerText">TEXTE TEST</div>
    </div>

    <script>
        const SCRIPT_URL =  'https://script.google.com/macros/s/AKfycbymWX7y0s86Lre4ukbgymbxJKOr4y0pQ-t2qkKNlGr1ChQlm5pZsvODmIeBTo-ERRaeSQ/exec';

        async function update() {
            try {
                const response = await fetch(`${SCRIPT_URL}?t=${Date.now()}`);
                const data = await response.json();
                console.log("Données reçues :", data);
                
                document.getElementById('debug').innerText = "Données reçues à " + new Date().toLocaleTimeString();

                const el = document.getElementById('bannerText');
                
                // On récupère les valeurs
                const txt = data.text || data.Text || data.texte || data.Texte || "VIDE";
                const col = data.color || data.Color || data.couleur || "yellow";
                const vit = data.speed || data.vitesse || 10;

                // Application brutale
                el.innerText = txt;
                el.style.color = col;
                
                // On force l'animation de façon ultra-simple
                el.style.animation = 'none';
                el.offsetHeight; 
                el.style.animation = `scroll-simple ${vit}s linear infinite`;

            } catch (e) {
                document.getElementById('debug').innerText = "ERREUR : " + e.message;
            }
        }

        update();
        setInterval(update, 10000);
    </script>
</body>
</html>

